{% extends "base-dashboard.html.twig" %}
{% block content %}

        <div class="card">
            <div class="card-body">
                <table id="datatableDefault" class="table text-nowrap w-100">
                    <thead>
                        <tr>
                            <th>
                                id
                                                            
                            </th>
                            <th>
                                Department Name
                                                            
                            </th>
                            <th>
                                Description
                                                            
                            </th>
                            <th>
                                Actions
                                                            
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for departement in departements %}
                        <tr>
                            <td>{{ departement.id }}</td>
                            <td>{{ departement.nom }}</td>
                            <td>{{ departement.description }}</td>
                            <td>
                                <a href="{{ path('departement_edit', {'id': departement.id}) }}" class="bi bi-pencil white"></a>
                                {{ include('departement/_delete_form.html.twig') }}
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="card-arrow">
                <div class="card-arrow-top-left"></div>
                <div class="card-arrow-top-right"></div>
                <div class="card-arrow-bottom-left"></div>
                <div class="card-arrow-bottom-right"></div>
            </div>
        </div>
        <button type="button" class="btn btn-outline-theme mt-4" style="float: right;" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
        Add Department
    </button>
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdrop" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">
                        Add Department
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                <form action="{{ path('departement_new') }}" method="post">
                    <label for="departement_nom" class="col-sm-2 col-form-label">
                        Name                               
                    </label>
                    <div class="col-sm-10 mb-4">
                    <input id="departement_nom" name="departement[nom]" class="form-control">
                    </div>
                            <label for="departement_description" class="col-sm-2 col-form-label">
                                Description                                  
                            </label>
                            <div class="col-sm-10 mb-4">
                            <textarea id="departement_description" name="departement[description]" class="form-control"></textarea>
                            </div>
                            <p class="form-row">
                            <input type="hidden" id="departement__token" name="departement[_token]" value="{{ form._token.vars.value }}"> 
                            </p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                    Close
                                </button>
                                <button type="submit" class="btn btn-primary">
                                    add
                                </button>
                            </div>
                </form>
            </div>
        </div>
    </div>
    
{% endblock %}